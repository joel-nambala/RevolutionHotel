!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(Zt){"use strict";Zt.Zebra_DatePicker=function(t,K){var m,X,f,tt,et,st,b,y,v,p,w,nt,k,A,it,D,C,M,P,at,F,Z,rt,ot,dt,x,d,S,ct,lt,Y,I,j,O,z,gt,H,_t,N,L,T,c,R,B,W,ht={always_visible:!(this.version="2.1.0"),container:Zt("body"),current_date:!1,custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"icon_top_right",direction:0,disable_time_picker:!1,disabled_dates:!1,enabled_ampm:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,fast_navigation:!0,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},icon_margin:!1,icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,navigation:["&#9664;","&#9654;","&#9650;","&#9660;"],offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,rtl:!1,select_other_months:!1,show_clear_date:0,show_icon:"Pick a date",show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},pt={},E={},ut=!1,Q="",mt=!1,ft=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),J=this,G=Zt(t),e=function(t){for(var e,s,a,n,i={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},r=null,o=!1,d=0;d<3;d++)Q+=Math.floor(65536*(1+Math.random())).toString(16);if(A=[],it=[],!t)for(e in J.settings=Zt.extend({},ht,Zt.fn.Zebra_DatePicker.defaults,K),E.readonly=G.attr("readonly"),E.style=G.attr("style"),E.padding_left=parseInt(G.css("paddingLeft"),10)||0,E.padding_right=parseInt(G.css("paddingRight"),10)||0,G.data())0===e.indexOf("zdp_")&&(e=e.replace(/^zdp\_/,""),undefined!==ht[e])&&(J.settings[e]="pair"===e?Zt(G.data("zdp_"+e)):G.data("zdp_"+e));for(J.settings.readonly_element?G.attr("readonly","readonly"):G.removeAttr("readonly"),L=!1,B=[];!o;){for(r in i)Zt.each(i[r],function(t,e){var s,n;if(-1<J.settings.format.indexOf(e))if("days"===r)B.push("days");else if("months"===r)B.push("months");else if("years"===r)B.push("years");else if(("hours"===r||"minutes"===r||"seconds"===r||"ampm"===r)&&!J.settings.disable_time_picker)if(L||(L={is12hour:!1},B.push("time")),"hours"===r)for("g"===(L.hour_format=e)||"h"===e?(n=12,L.is12hour=!0):n=24,L.hours=[],Array.isArray(J.settings.enabled_hours)&&(J.settings.enabled_hour=J.settings.enabled_hours.map(function(t){return parseInt(t,10)})),s=12===n?1:0;s<(12===n?13:n);s++)(!Array.isArray(J.settings.enabled_hours)||-1<Zt.inArray(s,J.settings.enabled_hours))&&L.hours.push(s);else if("minutes"===r)for(L.minutes=[],Array.isArray(J.settings.enabled_minutes)&&(J.settings.enabled_minutes=J.settings.enabled_minutes.map(function(t){return parseInt(t,10)})),s=0;s<60;s++)(!Array.isArray(J.settings.enabled_minutes)||-1<Zt.inArray(s,J.settings.enabled_minutes))&&L.minutes.push(s);else if("seconds"===r)for(L.seconds=[],Array.isArray(J.settings.enabled_seconds)&&(J.settings.enabled_seconds=J.settings.enabled_seconds.map(function(t){return parseInt(t,10)})),s=0;s<60;s++)(!Array.isArray(J.settings.enabled_seconds)||-1<Zt.inArray(s,J.settings.enabled_seconds))&&L.seconds.push(s);else L.ampm_case=e,Array.isArray(J.settings.enabled_ampm)&&Zt.grep(J.settings.enabled_ampm,function(t){return-1<Zt.inArray(t.toLowerCase(),["am","pm"])}).length?L.ampm=J.settings.enabled_ampm:L.ampm=["am","pm"]});L.hour_format&&L.ampm&&!1===L.is12hour?J.settings.format=J.settings.format.replace(L.hour_format,L.hour_format.toLowerCase()):o=!0}for(d in 0===B.length&&(B=["years","months","days"]),-1===Zt.inArray(J.settings.view,B)&&(J.settings.view=B[B.length-1]),b=[],J.settings.custom_classes)J.settings.custom_classes.hasOwnProperty(d)&&-1===b.indexOf(d)&&b.push(d);for(a=0;a<2+b.length;a++)s=0===a?J.settings.disabled_dates:1===a?J.settings.enabled_dates:J.settings.custom_classes[b[a-2]],Array.isArray(s)&&0<s.length&&Zt.each(s,function(){for(var t,e,s,n=this.split(" "),i=0;i<4;i++){for(n[i]||(n[i]="*"),n[i]=-1<n[i].indexOf(",")?n[i].split(","):new Array(n[i]),t=0;t<n[i].length;t++)if(-1<n[i][t].indexOf("-")&&null!==(s=n[i][t].match(/^([0-9]+)\-([0-9]+)/))){for(e=q(s[1]);e<=q(s[2]);e++)-1===Zt.inArray(e,n[i])&&n[i].push(e+"");n[i].splice(t,1)}for(t=0;t<n[i].length;t++)n[i][t]=isNaN(q(n[i][t]))?n[i][t]:q(n[i][t])}(0===a?A:1===a?it:(undefined===pt[b[a-2]]&&(pt[b[a-2]]=[]),pt[b[a-2]])).push(n)});var c=!1!==J.settings.current_date?new Date(J.settings.current_date):new Date,l=J.settings.reference_date||(G.data("zdp_reference_date")&&undefined!==G.data("zdp_reference_date")?G.data("zdp_reference_date"):c);if(H=undefined,D=undefined,M=l.getMonth(),et=c.getMonth(),P=l.getFullYear(),st=c.getFullYear(),C=l.getDate(),tt=c.getDate(),!0===J.settings.direction)H=l;else if(!1===J.settings.direction)ot=(D=l).getMonth(),dt=D.getFullYear(),rt=D.getDate();else if(!Array.isArray(J.settings.direction)&&At(J.settings.direction)&&0<q(J.settings.direction)||Array.isArray(J.settings.direction)&&((h=bt(J.settings.direction[0]))||!0===J.settings.direction[0]||At(J.settings.direction[0])&&0<J.settings.direction[0])&&((u=bt(J.settings.direction[1]))||!1===J.settings.direction[1]||At(J.settings.direction[1])&&0<=J.settings.direction[1]))H=h||new Date(P,M,C+(Array.isArray(J.settings.direction)?q(!0===J.settings.direction[0]?0:J.settings.direction[0]):q(J.settings.direction))),M=H.getMonth(),P=H.getFullYear(),C=H.getDate(),u&&+H<=+u?D=u:!u&&!1!==J.settings.direction[1]&&Array.isArray(J.settings.direction)&&(D=new Date(P,M,C+q(J.settings.direction[1]))),D&&(ot=D.getMonth(),dt=D.getFullYear(),rt=D.getDate());else if(!Array.isArray(J.settings.direction)&&At(J.settings.direction)&&q(J.settings.direction)<0||Array.isArray(J.settings.direction)&&(!1===J.settings.direction[0]||At(J.settings.direction[0])&&J.settings.direction[0]<0)&&((h=bt(J.settings.direction[1]))||At(J.settings.direction[1])&&0<=J.settings.direction[1]))D=new Date(P,M,C+(Array.isArray(J.settings.direction)?q(!1===J.settings.direction[0]?0:J.settings.direction[0]):q(J.settings.direction))),ot=D.getMonth(),dt=D.getFullYear(),rt=D.getDate(),h&&+h<+D?H=h:!h&&Array.isArray(J.settings.direction)&&(H=new Date(dt,ot,rt-q(J.settings.direction[1]))),H&&(M=H.getMonth(),P=H.getFullYear(),C=H.getDate());else if(Array.isArray(J.settings.disabled_dates)&&0<J.settings.disabled_dates.length)for(var g in A)if(-1<Zt.inArray("*",A[g][0])&&-1<Zt.inArray("*",A[g][1])&&-1<Zt.inArray("*",A[g][2])&&-1<Zt.inArray("*",A[g][3])){var _=[];Zt.each(it,function(){var t=this;"*"!==t[2][0]&&_.push(parseInt(t[2][0]+("*"===t[1][0]?"12":$(t[1][0],2))+("*"===t[0][0]?"*"===t[1][0]?"31":new Date(t[2][0],t[1][0],0).getDate():$(t[0][0],2)),10))}),_.sort(),0<_.length&&(g=(_[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/),P=parseInt(g[1],10),M=parseInt(g[2],10)-1,C=parseInt(g[3],10));break}if(U(P,M,C)){for(n=0;U(P)&&!(2e3<n++);)C=(M=H?(P++,0):(P--,11),1);for(n<2e3&&(n=0);U(P,M)&&!(2e3<n++);)C=H?(M++,1):(M--,new Date(P,M+1,0).getDate()),11<M?(P++,M=0,C=1):M<0&&(P--,M=11,C=new Date(P,M+1,0).getDate());for(n<2e3&&(n=0);U(P,M,C)&&!(2e3<n++);)H?C++:C--,c=new Date(P,M,C),P=c.getFullYear(),M=c.getMonth(),C=c.getDate();c=2e3<n?new Date:new Date(P,M,C),P=c.getFullYear(),M=c.getMonth(),C=c.getDate()}J.settings.start_date&&"object"==typeof J.settings.start_date&&J.settings.start_date instanceof Date&&(J.settings.start_date=wt(J.settings.start_date));var h,p,u,l=bt(G.val()||J.settings.start_date||"");l&&J.settings.strict&&U(l.getFullYear(),l.getMonth(),l.getDate())&&G.val(""),t||undefined===H&&undefined===l||Pt(undefined!==l?l:H),J.settings.always_visible instanceof jQuery||(t||((X=!1!==J.settings.show_icon?("firefox"===Ft.name&&G.is('input[type="text"]')&&"inline"===G.css("display")&&G.css("display","inline-block"),u=parseInt(G.css("marginTop"),10)||0,h=parseInt(G.css("marginRight"),10)||0,l=parseInt(G.css("marginBottom"),10)||0,p=parseInt(G.css("marginLeft"),10)||0,u=Zt('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:G.css("display"),position:"static"===G.css("position")?"relative":G.css("position"),"float":G.css("float"),top:G.css("top"),right:G.css("right"),bottom:G.css("bottom"),left:G.css("left"),marginTop:u<0?u:0,marginRight:h<0?h:0,marginBottom:l<0?l:0,marginLeft:p<0?p:0,paddingTop:u,paddingRight:h,paddingBottom:l,paddingLeft:p}),G.wrap(u).css({position:"relative","float":"none",top:"auto",right:"auto",bottom:"auto",left:"auto",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),Z=Zt('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===G.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">'+J.settings.show_icon+"</button>"),J.icon=Z,J.settings.open_icon_only?Z:Z.add(G)):G).on("click.Zebra_DatePicker_"+Q+(J.settings.open_on_focus?" focus.Zebra_DatePicker_"+Q:""),function(){y.hasClass("dp_hidden")&&!G.attr("disabled")&&(!mt||J.settings.readonly_element?J.show():(clearTimeout(_t),_t=setTimeout(function(){J.show()},600)))}),X.on("keydown.Zebra_DatePicker_"+Q,function(t){9!==t.keyCode||y.hasClass("dp_hidden")||J.hide()}),!J.settings.readonly_element&&J.settings.pair&&G.on("blur.Zebra_DatePicker_"+Q,function(){var t;(t=bt(Zt(this).val()))&&!U(t.getFullYear(),t.getMonth(),t.getDate())&&Pt(t)}),undefined!==Z&&Z.insertAfter(G)),undefined!==Z&&(Z.attr("style",""),h=G.outerWidth(),l=G.outerHeight(),p=Z.outerWidth(),u=Z.outerHeight(),Z.css("top",(l-u)/2),J.settings.inside?"right"===J.settings.icon_position?(Z.css("right",!1!==J.settings.icon_margin?J.settings.icon_margin:E.padding_right),G.css("paddingRight",2*(!1!==J.settings.icon_margin?J.settings.icon_margin:E.padding_right)+p)):(Z.css("left",!1!==J.settings.icon_margin?J.settings.icon_margin:E.padding_left),G.css("paddingLeft",2*(!1!==J.settings.icon_margin?J.settings.icon_margin:E.padding_left)+p)):Z.css("left",h+(!1!==J.settings.icon_margin?J.settings.icon_margin:E.padding_left)),Z.removeClass("Zebra_DatePicker_Icon_Disabled"),"disabled"===G.attr("disabled"))&&Z.addClass("Zebra_DatePicker_Icon_Disabled")),gt=!1!==J.settings.show_select_today&&-1<Zt.inArray("days",B)&&!U(st,et,tt)&&J.settings.show_select_today,t?(Zt(".dp_previous",y).html(J.settings.navigation[0]),Zt(".dp_next",y).html(J.settings.navigation[1]),Zt(".dp_time_controls_increase .dp_time_control",y).html(J.settings.navigation[2]),Zt(".dp_time_controls_decrease .dp_time_control",y).html(J.settings.navigation[3]),Zt(".dp_clear",y).html(J.settings.lang_clear_date),Zt(".dp_today",y).html(J.settings.show_select_today),y.is(":visible")&&(d=J.settings.view,J.settings.view=R,J.show(!1),J.settings.view=d),y.parent()!==J.settings.container&&J.settings.container.append(y.detach())):(Zt(window).on("resize.Zebra_DatePicker_"+Q+", orientationchange.Zebra_DatePicker_"+Q,function(){J.hide()}),l='<div class="Zebra_DatePicker"><table class="dp_header dp_actions"><tr><td class="dp_previous">'+J.settings.navigation[0]+(ft?"&#xFE0E;":"")+'</td><td class="dp_caption"></td><td class="dp_next">'+J.settings.navigation[1]+(ft?"&#xFE0E;":"")+'</td></tr></table><table class="dp_daypicker'+(J.settings.show_week_number?" dp_week_numbers":"")+' dp_body"></table><table class="dp_monthpicker dp_body"></table><table class="dp_yearpicker dp_body"></table><table class="dp_timepicker dp_body"></table><table class="dp_footer dp_actions"><tr><td class="dp_today">'+gt+'</td><td class="dp_clear">'+J.settings.lang_clear_date+'</td><td class="dp_view_toggler dp_icon">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="dp_confirm dp_icon"></td></tr></table></div>',y=Zt(l),J.datepicker=y,F=Zt("table.dp_header",y),v=Zt("table.dp_daypicker",y),x=Zt("table.dp_monthpicker",y),T=Zt("table.dp_yearpicker",y),N=Zt("table.dp_timepicker",y),at=Zt("table.dp_footer",y),z=Zt("td.dp_today",at),m=Zt("td.dp_clear",at),I=Zt("td.dp_view_toggler",at),f=Zt("td.dp_confirm",at),J.settings.always_visible instanceof jQuery?G.attr("disabled")||(J.settings.always_visible.append(y),J.show()):J.settings.container.append(y),y.on("mouseover","td:not(.dp_disabled)",function(){Zt(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled)",function(){Zt(this).removeClass("dp_hover")}),yt(y),Zt(J.settings.rtl?".dp_next":".dp_previous",F).on("click",function(){"months"===R?O--:"years"===R?O-=12:--j<0&&(j=11,O--),V()}),J.settings.fast_navigation&&Zt(".dp_caption",F).on("click",function(){R="days"===R?-1<Zt.inArray("months",B)?"months":-1<Zt.inArray("years",B)?"years":"days":"months"===R?-1<Zt.inArray("years",B)?"years":-1<Zt.inArray("days",B)?"days":"months":-1<Zt.inArray("days",B)?"days":-1<Zt.inArray("months",B)?"months":"years",V()}),Zt(J.settings.rtl?".dp_previous":".dp_next",F).on("click",function(){"months"===R?O++:"years"===R?O+=12:12==++j&&(j=0,O++),V()}),v.on("click","td:not(.dp_disabled)",function(){var t;J.settings.select_other_months&&Zt(this).attr("class")&&null!==(t=Zt(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?Mt(t[1],t[2]-1,t[3],"days",Zt(this)):Mt(O,j,q(Zt(this).html()),"days",Zt(this))}),x.on("click","td:not(.dp_disabled)",function(){var t=Zt(this).attr("class").match(/dp\_month\_([0-9]+)/);j=q(t[1]),-1===Zt.inArray("days",B)?Mt(O,j,1,"months",Zt(this)):(R="days",J.settings.always_visible&&G.val(""),V())}),T.on("click","td:not(.dp_disabled)",function(){O=q(Zt(this).html()),-1===Zt.inArray("months",B)?Mt(O,0,1,"years",Zt(this)):(R="months",J.settings.always_visible&&G.val(""),V())}),z.on("click",function(t){var e=!1!==J.settings.current_date?new Date(J.settings.current_date):new Date;t.preventDefault(),Mt(e.getFullYear(),e.getMonth(),e.getDate(),"days",Zt(".dp_current",v))}),m.on("click",function(t){t.preventDefault(),G.val(""),k=nt=w=null,J.settings.always_visible?Zt("td.dp_selected",y).removeClass("dp_selected"):O=j=null,G.focus(),J.hide(),J.settings.onClear&&"function"==typeof J.settings.onClear&&J.settings.onClear.call(G)}),I.on("click",function(){"time"!==R?(R="time",V()):Zt(".dp_caption",F).trigger("click")}),f.on("click",function(){var t;Zt(".dp_time_controls_increase td",N).first().trigger("mousedown"),clearInterval(W),Zt(".dp_time_controls_decrease td",N).first().trigger("mousedown"),clearInterval(W),J.settings.onSelect&&"function"==typeof J.settings.onSelect&&(t=new Date(O,j,w,L&&L.hours?S+(L.ampm&&("pm"===Y&&S<12||"am"===Y&&12===S)?12:0):0,L&&L.minutes?ct:0,L&&L.seconds?lt:0),J.settings.onSelect.call(G,wt(t),O+"-"+$(j+1,2)+"-"+$(w,2)+(L?" "+$(t.getHours(),2)+":"+$(t.getMinutes(),2)+":"+$(t.getSeconds(),2):""),t)),J.hide()}),y.on("mousedown",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){var t=this,e=0;Ct(t),W=setInterval(function(){Ct(t),5<++e&&(clearInterval(W),W=setInterval(function(){Ct(t),10<++e&&(clearInterval(W),W=setInterval(function(){Ct(t)},100,t))},200,t))},400,t)}),y.on("mouseup mouseleave",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){clearInterval(W)}),J.settings.always_visible instanceof jQuery||(Zt(document).on("touchmove.Zebra_DatePicker_"+Q,function(){ut=!0}),Zt(document).on("mousedown.Zebra_DatePicker_"+Q+" touchend.Zebra_DatePicker_"+Q,function(t){if("touchend"===t.type&&ut)return ut=!(mt=!0);ut=!1,y.hasClass("dp_hidden")||(!J.settings.open_icon_only||!J.icon||Zt(t.target).get(0)===J.icon.get(0))&&(J.settings.open_icon_only||Zt(t.target).get(0)===G.get(0)||J.icon&&Zt(t.target).get(0)===J.icon.get(0))||0!==Zt(t.target).closest(".Zebra_DatePicker").length||Zt(t.target).hasClass("dp_time_control")||J.hide(!0)}),Zt(document).on("keyup.Zebra_DatePicker_"+Q,function(t){y.hasClass("dp_hidden")||27!==t.which||J.hide()})),V())},bt=function(t){if(""!==(t+="").trim()){for(var e,s,n=vt(J.settings.format),i=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],a=[],r=[],o=null,d=0;d<i.length;d++)-1<(e=n.indexOf(i[d]))&&a.push({character:i[d],position:e});if(a.sort(function(t,e){return t.position-e.position}),Zt.each(a,function(t,e){switch(e.character){case"d":r.push("0?[1-9]|[12][0-9]|3[01]");break;case"D":r.push(J.settings.days_abbr?J.settings.days_abbr.map(function(t){return vt(t)}).join("|"):"[a-zÀ-ɏ]{3}");break;case"j":r.push("0?[1-9]|[12][0-9]|3[01]");break;case"l":r.push(J.settings.days?J.settings.days.map(function(t){return vt(t)}).join("|"):"[a-zÀ-ɏ]+");break;case"N":r.push("[1-7]");break;case"S":r.push("st|nd|rd|th");break;case"w":r.push("[0-6]");break;case"F":r.push(J.settings.months?J.settings.months.map(function(t){return vt(t)}).join("|"):"[a-zÀ-ɏ]+");break;case"m":r.push("0?[1-9]|1[012]");break;case"M":r.push(J.settings.months_abbr?J.settings.months_abbr.map(function(t){return vt(t)}).join("|"):"[a-zÀ-ɏ]{3}");break;case"n":r.push("0?[1-9]|1[012]");break;case"Y":r.push("[0-9]{4}");break;case"y":r.push("[0-9]{2}");break;case"G":r.push("[1-9]|1[0-9]|2[0123]");break;case"g":r.push("[0-9]|1[012]");break;case"H":r.push("0[0-9]|1[0-9]|2[0123]");break;case"h":r.push("0[0-9]|1[012]");break;case"i":case"s":r.push("0[0-9]|[12345][0-9]");break;case"a":r.push("am|pm");break;case"A":r.push("AM|PM")}}),r.length&&(a.reverse(),Zt.each(a,function(t,e){n=n.replace(e.character,"("+r[r.length-t-1]+")")}),r=new RegExp("^"+n+"$","ig"),o=r.exec(t))){var c,l,t=new Date,g=1,_=t.getMonth()+1,h=t.getFullYear(),p=t.getHours(),u=t.getMinutes(),m=t.getSeconds(),f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],y=!0;if(a.reverse(),Zt.each(a,function(s,n){if(!y)return!0;switch(n.character){case"m":case"n":_=q(o[s+1]);break;case"d":case"j":g=q(o[s+1]);break;case"D":case"l":case"F":case"M":l="D"===n.character?J.settings.days_abbr||J.settings.days:"l"===n.character?J.settings.days:"M"===n.character&&J.settings.months_abbr||J.settings.months,y=!1,Zt.each(l,function(t,e){if(y)return!0;if(o[s+1].toLowerCase()===e.substring(0,"D"===n.character&&!J.settings.days_abbr||"M"===n.character&&!J.settings.months_abbr?3:e.length).toLowerCase()){switch(n.character){case"D":o[s+1]=f[t].substring(0,3);break;case"l":o[s+1]=f[t];break;case"F":o[s+1]=b[t],_=t+1;break;case"M":o[s+1]=b[t].substring(0,3),_=t+1}y=!0}});break;case"Y":h=q(o[s+1]);break;case"y":h=q("20"+q(o[s+1]));break;case"G":case"H":case"g":case"h":p=q(o[s+1]);break;case"i":u=q(o[s+1]);break;case"s":m=q(o[s+1]);break;case"a":case"A":c=o[s+1].toLowerCase()}}),y&&(s=new Date(h,(_||1)-1,g||1,p+("pm"===c&&12!==p?12:"am"===c&&12===p?-12:0),u,m)).getFullYear()===h&&s.getDate()===(g||1)&&s.getMonth()===(_||1)-1)return s}return!1}},yt=function(t){"firefox"===Ft.name?t.css("MozUserSelect","none"):"explorer"===Ft.name?Zt(document).on("selectstart",t,function(){return!1}):t.on("mousedown",function(){return!1})},vt=function(t){return t.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},wt=function(t){for(var e,s="",n=t.getDate(),i=t.getDay(),a=J.settings.days[i],r=t.getMonth()+1,o=J.settings.months[r-1],d=t.getFullYear()+"",c=t.getHours(),l=c%12==0?12:c%12,g=t.getMinutes(),_=t.getSeconds(),h=12<=c?"pm":"am",p=0;p<J.settings.format.length;p++)switch(e=J.settings.format.charAt(p)){case"y":d=d.substr(2);case"Y":s+=d;break;case"m":r=$(r,2);case"n":s+=r;break;case"M":o=Array.isArray(J.settings.months_abbr)&&undefined!==J.settings.months_abbr[r-1]?J.settings.months_abbr[r-1]:J.settings.months[r-1].substr(0,3);case"F":s+=o;break;case"d":n=$(n,2);case"j":s+=n;break;case"D":a=Array.isArray(J.settings.days_abbr)&&undefined!==J.settings.days_abbr[i]?J.settings.days_abbr[i]:J.settings.days[i].substr(0,3);case"l":s+=a;break;case"N":i++;case"w":s+=i;break;case"S":s+=n%10==1&&11!==n?"st":n%10==2&&12!==n?"nd":n%10==3&&13!==n?"rd":"th";break;case"g":s+=l;break;case"h":s+=$(l,2);break;case"G":s+=c;break;case"H":s+=$(c,2);break;case"i":s+=$(g,2);break;case"s":s+=$(_,2);break;case"a":s+=h;break;case"A":s+=h.toUpperCase();break;default:s+=e}return s},s=function(){var t,e,s,n,i,a,r,o,d,c,l=new Date(O,j+1,0).getDate(),g=new Date(O,j,1).getDay(),_=new Date(O,j,0).getDate(),h=(h=g-J.settings.first_day_of_week)<0?7+h:h;for(Dt(J.settings.header_captions.days),e="<tr>",J.settings.show_week_number&&(e+='<th scope="col">'+J.settings.show_week_number+"</th>"),t=0;t<7;t++)s=(J.settings.first_day_of_week+(J.settings.rtl?6-t:t))%7,e+='<th scope="col">'+(Array.isArray(J.settings.days_abbr)&&undefined!==J.settings.days_abbr[s]?J.settings.days_abbr[s]:J.settings.days[s].substr(0,2))+"</th>";for(e+="</tr><tr>",t=0;t<42;t++)c=J.settings.rtl?6-t%7*2:0,0<t&&t%7==0&&(e+="</tr><tr>"),t%7==0&&J.settings.show_week_number&&(e+='<th scope="row">'+kt(new Date(O,j,t-h+1))+"</th>"),s=t-h+1+c,J.settings.select_other_months&&(t<h||l<s)&&(i=(n=new Date(O,j,s)).getFullYear(),a=n.getMonth(),r=n.getDate(),n=i+$(a+1,2)+$(r,2)),d=(J.settings.first_day_of_week+t)%7,d=-1<Zt.inArray(d,J.settings.weekend_days),J.settings.rtl&&s<1||!J.settings.rtl&&t<h?e+='<td class="dp_not_in_month '+(d?"dp_weekend ":"")+(J.settings.select_other_months&&!U(i,a,r)?"date_"+n:"dp_disabled")+'">'+(J.settings.select_other_months||J.settings.show_other_months?$(c+_-h+t+1,J.settings.zero_pad?2:0):"&nbsp;")+"</td>":l<s?e+='<td class="dp_not_in_month '+(d?"dp_weekend ":"")+(J.settings.select_other_months&&!U(i,a,r)?"date_"+n:"dp_disabled")+'">'+(J.settings.select_other_months||J.settings.show_other_months?$(s-l,J.settings.zero_pad?2:0):"&nbsp;")+"</td>":(c="",o=u(O,j,s),d&&(c=" dp_weekend"),j===et&&O===st&&tt===s&&(c+=" dp_current"),""!==o&&(c+=" "+o),j===nt&&O===k&&w===s&&(c+=" dp_selected"),U(O,j,s)&&(c+=" dp_disabled"),e+="<td"+(""!==c?' class="'+c.trim()+'"':"")+">"+((J.settings.zero_pad?$(s,2):s)||"&nbsp;")+"</td>");v.html(Zt(e+="</tr>")),J.settings.always_visible&&(p=Zt("td:not(.dp_disabled)",v)),v.show()},n=function(){Dt(J.settings.header_captions.months);for(var t,e,s="<tr>",n=0;n<12;n++)0<n&&n%3==0&&(s+="</tr><tr>"),t="dp_month_"+(e=J.settings.rtl?2+n-n%3*2:n),U(O,e)?t+=" dp_disabled":!1!==nt&&nt===e&&O===k?t+=" dp_selected":et===e&&st===O&&(t+=" dp_current"),s+='<td class="'+t.trim()+'">'+(Array.isArray(J.settings.months_abbr)&&undefined!==J.settings.months_abbr[e]?J.settings.months_abbr[e]:J.settings.months[e].substr(0,3))+"</td>";x.html(Zt(s+="</tr>")),J.settings.always_visible&&(d=Zt("td:not(.dp_disabled)",x)),x.show()},i=function(){var t=L.hours&&L.minutes&&L.seconds&&L.ampm,e='<tr class="dp_time_controls_increase'+(t?" dp_time_controls_condensed":"")+'">'+(J.settings.rtl&&L.ampm?'<td class="dp_time_ampm dp_time_control">'+J.settings.navigation[2]+"</td>":"")+(L.hours?'<td class="dp_time_hour dp_time_control">'+J.settings.navigation[2]+"</td>":"")+(L.minutes?'<td class="dp_time_minute dp_time_control">'+J.settings.navigation[2]+"</td>":"")+(L.seconds?'<td class="dp_time_second dp_time_control">'+J.settings.navigation[2]+"</td>":"")+(!J.settings.rtl&&L.ampm?'<td class="dp_time_ampm dp_time_control">'+J.settings.navigation[2]+"</td>":"")+"</tr>";e+='<tr class="dp_time_segments'+(t?" dp_time_controls_condensed":"")+'">',J.settings.rtl&&L.ampm&&(e+='<td class="dp_time_ampm dp_disabled'+(L.hours||L.minutes||L.seconds?" dp_time_separator":"")+'"><div>'+("A"===L.ampm_case?Y.toUpperCase():Y)+"</div></td>"),L.hours&&(e+='<td class="dp_time_hours dp_disabled'+(L.minutes||L.seconds||!J.settings.rtl&&L.ampm?" dp_time_separator":"")+'"><div>'+("h"===L.hour_format||"H"===L.hour_format?$(S,2):S)+"</div></td>"),L.minutes&&(e+='<td class="dp_time_minutes dp_disabled'+(L.seconds||!J.settings.rtl&&L.ampm?" dp_time_separator":"")+'"><div>'+$(ct,2)+"</div></td>"),L.seconds&&(e+='<td class="dp_time_seconds dp_disabled'+(!J.settings.rtl&&L.ampm?" dp_time_separator":"")+'"><div>'+$(lt,2)+"</div></td>"),!J.settings.rtl&&L.ampm&&(e+='<td class="dp_time_ampm dp_disabled">'+("A"===L.ampm_case?Y.toUpperCase():Y)+"</td>"),e=e+'</tr><tr class="dp_time_controls_decrease'+(t?" dp_time_controls_condensed":"")+'">'+(J.settings.rtl&&L.ampm?'<td class="dp_time_ampm dp_time_control">'+J.settings.navigation[3]+"</td>":"")+(L.hours?'<td class="dp_time_hour dp_time_control">'+J.settings.navigation[3]+"</td>":"")+(L.minutes?'<td class="dp_time_minute dp_time_control">'+J.settings.navigation[3]+"</td>":"")+(L.seconds?'<td class="dp_time_second dp_time_control">'+J.settings.navigation[3]+"</td>":"")+(!J.settings.rtl&&L.ampm?'<td class="dp_time_ampm dp_time_control">'+J.settings.navigation[3]+"</td>":"")+"</tr>",N.html(Zt(e)),N.show()},a=function(){Dt(J.settings.header_captions.years);for(var t,e,s="<tr>",n=0;n<12;n++)0<n&&n%3==0&&(s+="</tr><tr>"),e=J.settings.rtl?2+n-n%3*2:n,t="",U(O-7+e)?t+=" dp_disabled":k&&k===O-7+e?t+=" dp_selected":st===O-7+e&&(t+=" dp_current"),s+="<td"+(""!==t.trim()?' class="'+t.trim()+'"':"")+">"+(O-7+e)+"</td>";T.html(Zt(s+="</tr>")),J.settings.always_visible&&(c=Zt("td:not(.dp_disabled)",T)),T.show()},u=function(s,n,i){var a,t,r;for(t in void 0!==n&&(n+=1),b)if(a=b[t],r=!1,Array.isArray(pt[a])&&Zt.each(pt[a],function(){var t,e;return!r&&(-1<Zt.inArray(s,(t=this)[2])||-1<Zt.inArray("*",t[2]))&&(void 0!==n&&-1<Zt.inArray(n,t[1])||-1<Zt.inArray("*",t[1]))&&(void 0!==i&&-1<Zt.inArray(i,t[0])||-1<Zt.inArray("*",t[0]))&&(-1<Zt.inArray("*",t[3])||(e=new Date(s,n-1,i).getDay(),-1<Zt.inArray(e,t[3])))?r=a:void 0}),r)return r;return r||""},kt=function(t){var e,s,n,i=t.getFullYear(),a=t.getMonth()+1,t=t.getDate(),i=a<3?(s=(e=((r=i-1)/4|0)-(r/100|0)+(r/400|0))-(((r-1)/4|0)-((r-1)/100|0)+((r-1)/400|0)),n=0,t-1+31*(a-1)):(n=(s=(e=((r=i)/4|0)-(r/100|0)+(r/400|0))-(((r-1)/4|0)-((r-1)/100|0)+((r-1)/400|0)))+1,t+((153*(a-3)+2)/5|0)+58+s),t=(r+e)%7,a=i+3-(i+t-n)%7,r=a<0?53-((t-s)/5|0):364+s<a?1:1+(a/7|0);return r},U=function(s,n,i){var t,e,a,r;if(!(undefined!==s&&!isNaN(s)||undefined!==n&&!isNaN(n)||undefined!==i&&!isNaN(i)))return!1;if(s<1e3)return!0;if(Array.isArray(J.settings.direction)||0!==q(J.settings.direction)){if(8===(e=((t=q(o(s,void 0!==n?$(n,2):"",void 0!==i?$(i,2):"")))+"").length)&&(void 0!==H&&t<q(o(P,$(M,2),$(C,2)))||void 0!==D&&t>q(o(dt,$(ot,2),$(rt,2)))))return!0;if(6===e&&(void 0!==H&&t<q(o(P,$(M,2)))||void 0!==D&&t>q(o(dt,$(ot,2)))))return!0;if(4===e&&(void 0!==H&&t<P||void 0!==D&&dt<t))return!0}return void 0!==n&&(n+=1),r=a=!1,Array.isArray(A)&&A.length&&Zt.each(A,function(){var t,e;return!a&&(-1<Zt.inArray(s,(t=this)[2])||-1<Zt.inArray("*",t[2]))&&(void 0!==n&&-1<Zt.inArray(n,t[1])||-1<Zt.inArray("*",t[1]))&&(void 0!==i&&-1<Zt.inArray(i,t[0])||-1<Zt.inArray("*",t[0]))&&(-1<Zt.inArray("*",t[3])||(e=new Date(s,n-1,i).getDay(),-1<Zt.inArray(e,t[3])))?a=!0:void 0}),it&&Zt.each(it,function(){if(!r){var t,e=this;if((-1<Zt.inArray(s,e[2])||-1<Zt.inArray("*",e[2]))&&(r=!0,void 0!==n))if(r=!0,-1<Zt.inArray(n,e[1])||-1<Zt.inArray("*",e[1])){if(void 0!==i){if(r=!0,-1<Zt.inArray(i,e[0])||-1<Zt.inArray("*",e[0]))return-1<Zt.inArray("*",e[3])||(t=new Date(s,n-1,i).getDay(),-1<Zt.inArray(t,e[3]))?r=!0:void(r=!1);r=!1}}else r=!1}}),!(it&&r||!A||!a)},At=function(t){return(t+"").match(/^\-?[0-9]+$/)},Dt=function(t){!isNaN(parseFloat(j))&&isFinite(j)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return $(j+1,2);case"n":return j+1;case"F":return J.settings.months[j];case"M":return Array.isArray(J.settings.months_abbr)&&undefined!==J.settings.months_abbr[j]?J.settings.months_abbr[j]:J.settings.months[j].substr(0,3);default:return t}})),!isNaN(parseFloat(O))&&isFinite(O)&&(t=t.replace(/\bY\b/,O).replace(/\by\b/,(O+"").substr(2)).replace(/\bY1\b/i,O-7).replace(/\bY2\b/i,O+4)),Zt(".dp_caption",F).html(t)},V=function(t){var e;""===v.text()||"days"===R?(""===v.text()?(J.settings.always_visible instanceof jQuery||y.css("left",-1e3),y.removeClass("hidden"),s(),e="undefined"!=typeof v[0].getBoundingClientRect&&"undefined"!=typeof v[0].getBoundingClientRect().height?v[0].getBoundingClientRect().height:v.outerHeight(!0),x.css("height",e),T.css("height",e),N.css("height",e+F.outerHeight(!0)),y.css("width",y.outerWidth()),y.addClass("dp_hidden")):s(),F.show(),x.hide(),T.hide(),N.hide(),I.hide(),f.hide(),L&&I.show().removeClass("dp_calendar")):"months"===R?(n(),v.hide(),T.hide(),N.hide(),I.hide(),f.hide()):"years"===R?(a(),v.hide(),x.hide(),N.hide(),I.hide(),f.hide()):"time"===R&&(i(),1===B.length?(I.hide(),f.show()):(I.show().addClass("dp_calendar"),""===G.val()?f.hide():f.show()),F.hide(),v.hide(),x.hide(),T.hide()),!1!==t&&J.settings.onChange&&"function"==typeof J.settings.onChange&&undefined!==R&&((e="days"===R?v.find("td:not(.dp_disabled)"):"months"===R?x.find("td:not(.dp_disabled)"):"years"===R?T.find("td:not(.dp_disabled)"):N.find(".dp_time_segments td")).each(function(){var t;"days"===R?Zt(this).hasClass("dp_not_in_month")&&!Zt(this).hasClass("dp_disabled")?(t=Zt(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),Zt(this).data("date",t[1]+"-"+t[2]+"-"+t[3])):Zt(this).data("date",O+"-"+$(j+1,2)+"-"+$(q(Zt(this).text()),2)):"months"===R?(t=Zt(this).attr("class").match(/dp\_month\_([0-9]+)/),Zt(this).data("date",O+"-"+$(q(t[1])+1,2))):"years"===R&&Zt(this).data("date",q(Zt(this).text()))}),J.settings.onChange.call(G,R,e)),at.show(),"time"===R&&1<B.length?(z.hide(),m.hide(),I.css("width",""===G.val()?"100%":"50%")):(z.show(),m.show(),!0===J.settings.show_clear_date||0===J.settings.show_clear_date&&""!==G.val()||J.settings.always_visible&&!1!==J.settings.show_clear_date?gt?(z.css("width","50%"),m.css("width","50%")):(z.hide(),m.css("width",-1<Zt.inArray(B,"time")?"50%":"100%")):(m.hide(),gt?z.css("width","100%"):(z.hide(),L&&("time"===R||"days"===R)||at.hide())))},Ct=function(t){var e=0<Zt(t).parent(".dp_time_controls_increase").length,t=Zt(t).attr("class").match(/dp\_time\_([^\s]+)/i),s=Zt(".dp_time_segments .dp_time_"+t[1]+("ampm"!==t[1]?"s":""),N),n=s.text().toLowerCase(),i=L[t[1]+("ampm"!==t[1]?"s":"")],n=Zt.inArray("ampm"!==t[1]?parseInt(n,10):n,i),e=-1===n?0:e?n+1>=i.length?0:n+1:n-1<0?i.length-1:n-1;"hour"===t[1]?S=i[e]:"minute"===t[1]?ct=i[e]:"second"===t[1]?lt=i[e]:Y=i[e],w=(w=!w&&J.settings.start_date&&(n=bt(J.settings.start_date))?n.getDate():w)||C,s.text($(i[e],2).toUpperCase()),Mt(O,j,w)},Mt=function(t,e,s,n,i){var a=new Date(t,e,s,L&&L.hours?S+(L.ampm?"pm"===Y&&12!==S?12:"am"===Y&&12===S?-12:0:0):12,L&&L.minutes?ct:0,L&&L.seconds?lt:0),r="days"===n?p:"months"===n?d:c,o=wt(a);G.val(o),(J.settings.always_visible||L)&&(nt=a.getMonth(),j=a.getMonth(),k=a.getFullYear(),O=a.getFullYear(),w=a.getDate(),i)&&r&&(r.removeClass("dp_selected"),i.addClass("dp_selected"),"days"===n)&&i.hasClass("dp_not_in_month")&&!i.hasClass("dp_disabled")&&J.show(),L?(R="time",V()):(G.focus(),J.hide()),Pt(a),!L&&J.settings.onSelect&&"function"==typeof J.settings.onSelect&&J.settings.onSelect.call(G,o,t+"-"+$(e+1,2)+"-"+$(s,2),a)},o=function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e]+"";return t},$=function(t,e){for(t+="";t.length<e;)t="0"+t;return t},q=function(t){return parseInt(t,10)},Pt=function(s){J.settings.pair&&Zt.each(J.settings.pair,function(){var t,e=Zt(this);e.data&&e.data("Zebra_DatePicker")?((t=e.data("Zebra_DatePicker")).update({reference_date:s,direction:0===t.settings.direction?1:t.settings.direction}),t.settings.always_visible&&t.show()):e.data("zdp_reference_date",s)})},Ft={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(t){for(var e,s,n=0;n<t.length;n++)if(e=t[n].string,s=t[n].prop,this.versionSearchString=t[n].versionSearch||t[n].identity,e){if(-1!==e.indexOf(t[n].subString))return t[n].identity}else if(s)return t[n].identity},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};J.settings={},J.clear_date=function(){Zt(m).trigger("click")},J.destroy=function(){undefined!==J.icon&&(J.icon.off("click.Zebra_DatePicker_"+Q),J.icon.off("focus.Zebra_DatePicker_"+Q),J.icon.off("keydown.Zebra_DatePicker_"+Q),J.icon.remove()),y.off(),y.remove(),!J.settings.show_icon||J.settings.always_visible instanceof jQuery||G.unwrap(),G.off("blur.Zebra_DatePicker_"+Q),G.off("click.Zebra_DatePicker_"+Q),G.off("focus.Zebra_DatePicker_"+Q),G.off("keydown.Zebra_DatePicker_"+Q),G.off("mousedown.Zebra_DatePicker_"+Q),Zt(document).off("keyup.Zebra_DatePicker_"+Q),Zt(document).off("mousedown.Zebra_DatePicker_"+Q),Zt(document).off("touchend.Zebra_DatePicker_"+Q),Zt(window).off("resize.Zebra_DatePicker_"+Q),Zt(window).off("orientationchange.Zebra_DatePicker_"+Q),G.removeData("Zebra_DatePicker"),G.attr("readonly",E.readonly),G.attr("style",E.style||""),G.css("paddingLeft",E.padding_left),G.css("paddingRight",E.padding_right)},J.hide=function(t){y.hasClass("dp_hidden")||J.settings.always_visible&&!t||(y.addClass("dp_hidden"),J.settings.onClose&&"function"==typeof J.settings.onClose&&J.settings.onClose.call(G))},J.set_date=function(t){var e;"object"==typeof t&&t instanceof Date&&(t=wt(t)),(e=bt(t))&&!U(e.getFullYear(),e.getMonth(),e.getDate())&&(G.val(t),Pt(e))},J.show=function(t){R=J.settings.view;var e,s,n,i,a,r,o,d,c=bt(G.val()||J.settings.start_date||"");c?(nt=c.getMonth(),j=c.getMonth(),k=c.getFullYear(),O=c.getFullYear(),w=c.getDate(),U(k,nt,w)&&(J.settings.strict&&G.val(""),j=M,O=P)):(j=M,O=P),L&&(c=c||new Date,S=c.getHours(),ct=c.getMinutes(),lt=c.getSeconds(),Y=12<=S?"pm":"am",L.is12hour&&(S=S%12==0?12:S%12),Array.isArray(J.settings.enabled_hours)&&-1===Zt.inArray(S,J.settings.enabled_hours)&&(S=J.settings.enabled_hours[0]),Array.isArray(J.settings.enabled_minutes)&&-1===Zt.inArray(ct,J.settings.enabled_minutes)&&(ct=J.settings.enabled_minutes[0]),Array.isArray(J.settings.enabled_seconds)&&-1===Zt.inArray(lt,J.settings.enabled_seconds)&&(lt=J.settings.enabled_seconds[0]),Array.isArray(J.settings.enabled_ampm))&&-1===Zt.inArray(Y,J.settings.enabled_ampm)&&(Y=J.settings.enabled_ampm[0]),V(t),J.settings.always_visible instanceof jQuery||(J.settings.container.is("body")?(c=y.outerWidth(),e=y.outerHeight(),s=Zt(window).width(),n=Zt(window).height(),i=Zt(window).scrollTop(),a=Zt(window).scrollLeft(),o=G.offset(),d=undefined!==Z?Z.offset():undefined,"above"===J.settings.default_position?J.settings.default_position="icon_top_right":"below"===J.settings.default_position&&(J.settings.default_position="icon_bottom_right"),o=0===J.settings.default_position.indexOf("element")||undefined===Z?(r=-1<J.settings.default_position.indexOf("left")?o.left+J.settings.offset[0]:o.left+G.outerWidth(!0)+J.settings.offset[0],-1<J.settings.default_position.indexOf("top")?o.top-e+J.settings.offset[1]:o.top+G.outerHeight()+J.settings.offset[1]):(r=-1<J.settings.default_position.indexOf("left")?d.left+J.settings.offset[0]:d.left+Z.outerWidth(!0)+J.settings.offset[0],-1<J.settings.default_position.indexOf("bottom")?d.top+Z.outerHeight()+J.settings.offset[1]:d.top-e+J.settings.offset[1]),y.css({left:r=(r=a+s<r+c?a+s-c:r)<a?a:r,top:o=(o=i+n<o+e?i+n-e:o)<i?i:o})):y.css({left:0,top:0})),y.removeClass("dp_hidden"),!1!==t&&J.settings.onOpen&&"function"==typeof J.settings.onOpen&&J.settings.onOpen.call(G)},J.update=function(t){J.original_direction&&(J.original_direction=J.direction),J.settings=Zt.extend(J.settings,t),e(!0)},Ft.init(),e()},Zt.fn.Zebra_DatePicker=function(e){return this.each(function(){undefined!==Zt(this).data("Zebra_DatePicker")&&Zt(this).data("Zebra_DatePicker").destroy();var t=new Zt.Zebra_DatePicker(this,e);Zt(this).data("Zebra_DatePicker",t)})},Zt.fn.Zebra_DatePicker.defaults={}});